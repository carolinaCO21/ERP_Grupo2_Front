<div class="linea-item" [class.error]="linea.tieneError" *ngIf="linea">
  <div class="linea-header">
    <span class="linea-numero">L√≠nea {{ index + 1 }}</span>
    <button
      *ngIf="esEditable"
      class="btn-remove"
      (click)="onEliminar()">
      üóëÔ∏è
    </button>
  </div>

  <div class="linea-content">
    <div class="linea-info">
      <div class="info-group">
        <span class="label">Producto:</span>
        <span class="value">{{ linea.nombreProducto }}</span>
      </div>
      
      <div class="info-group">
        <span class="label">Cantidad:</span>
        <span class="value">{{ linea.cantidad }}</span>
      </div>
      
      <div class="info-group">
        <span class="label">Precio Unit.:</span>
        <span class="value">{{ linea.precioUnitario | currency: 'EUR' }}</span>
      </div>
      
      <div class="info-group">
        <span class="label">IVA:</span>
        <span class="value">{{ linea.ivaPorcentaje }}%</span>
      </div>
    </div>

    <div class="linea-totales">
      <div class="total-item">
        <span class="label">Subtotal:</span>
        <span class="value">{{ linea.subtotalFormateado }}</span>
      </div>
      <div class="total-item final">
        <span class="label">Total:</span>
        <span class="value">{{ linea.totalLineaFormateado }}</span>
      </div>
    </div>
  </div>

  <div class="error-message" *ngIf="linea.tieneError && linea.mensajeError">
    ‚ö†Ô∏è {{ linea.mensajeError }}
  </div>
</div>